## SpringSecurity

→ 스프링 기반의 애플리케이션 보안을 담당하는 Spring 하위 framework

- 사용자 관리 기능
    - 회원가입
    - 로그인
    - 로그아웃
    - 세션 관리
    - 권한 관리
- CSRF 공격, 세션 고정 공격(사용자 인증 정보 탈취)을 방어해주고, 요청 헤더도 보안 처리를 해준다.

### HttpServletRequest

- 클라이언트(브라우저 등)의 HTTP 요청 정보를 서버에서 가져올 수 있도록 해주는 객체
- 클라리언트가 서버로 요청할 때 담긴 모든 요청 정보를 포함하고 있음

### Filter(인터셉터)

- HTTP 요청/응답이 서블릿에 도달하기 전 또는 응답이 클라이언트에게 전달되기 전에 중간에서 가로채 처리하는 구성요소

### Manager

- 어떤 리소스나 동작을 관리하는 역할

### Provider

- 소프트웨어 아키텍처에서 필요한 것을 실제로 제공해주는 역할
- 실질적인 기능을 수행하거나 자원을 제공함

### Handler

- 특정 종류의 요청이나 이벤트를 처리하는 담당자
- 어떤 일이 발생했을 때 직접 그 작업을 수행하는 객

### Token

- 인증/인가, 또는 세션 상태를 클라이언트에 저장하기 위해 사용되는 데이터 조각
- 서버가 클라이언트에게 권한이 있음을 증명하기 위해 발급
- 토큰을 통해 클라이언트는 매번 인증 정보를 보내지 않고도 요청을 수행 가능

## 로그인 구현_정리

![image.png](attachment:c396113e-dcea-4ced-9b47-7780b409297b:image.png)

## Access Token

- 사용자가 인증되었음을 증명하고, API 요청 시 사용되는 토큰
- 유효기간이 짧고, 주로 사용자 정보를 읽거나 수정할 때 사용됨
    - 유효기간은 보통 30분
- 형태 → Authorization : Bearer <token>

## Refresh Token

- 엑세스 토큰이 만료 되었을 때, 새로운 엑세스 토큰을 발급 받기 위해 사용되는 토큰
- 유효기간이 길고, 보안상 더 안전하게 저장되어야 한다.
    - 유효기간은 보통 7일에서 수개월
    - 보안을 위해 HTTPOnly 쿠키에 저장하는 것이 일반적

## HTTP

- 헤더 : 콜른(’:’)으로 서로 구분되는 key-value 형태로 설정된다
- HTTP 요청을 할 때 3가지의 헤더인 일반헤더, 요청헤더, 응답헤더가 자동으로 생긴다.
- 서버에서 설정하는 헤더를 응답헤더, 클라이언트에서 설정한 헤더를 요청헤더라고 한다.